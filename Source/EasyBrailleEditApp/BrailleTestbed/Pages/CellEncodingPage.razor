@page "/cell-encoding"
@using BrailleToolkit.Helpers

<PageTitle>點字編碼</PageTitle>

<MudText class="pt-4" Typo="Typo.h5">點字編碼</MudText>

<MudContainer Class="pa-8">
    <MudPaper Outlined="false" Elevation="0" >
        <MudStack AlignItems="AlignItems.Start">
            <MudNumericField Required="true" Min="1" Max="123456" HideSpinButtons="true" Placeholder="輸入點位" Label="輸入點位" HelperText="例如: 1356" @bind-Value="_positionNumbers" MaxLength="6" Variant="Variant.Outlined" />
            <MudButton Class="mt-4" Variant="Variant.Filled" OnClick="PositionNumbersToHex">轉換</MudButton>
        </MudStack>
        <div style="width: 200px;">
            <MudStack Row="true" Class="mt-8" AlignItems="AlignItems.End">
                <MudText Typo="Typo.h6">編碼結果：</MudText>
                <MudField Variant="Variant.Text">@_cellHexCode</MudField>
            </MudStack>                      
        </div>
    </MudPaper>
</MudContainer>
        
@code {
    private int _positionNumbers = 123456;
    private string _cellHexCode;

    private void PositionNumbersToHex()
    {
        byte cellValue = BrailleCellHelper.PositionNumberStringToByte(Convert.ToString(_positionNumbers));
        _cellHexCode = BrailleCellHelper.ByteToHexString(cellValue);
    }
}
